/* =========================================
   1. 核心配色系统 (由它来控制亮/暗切换)
   ========================================= */
:root {
    /* --- 亮色模式 (Light Mode) - 清透、干净 --- */
    --jb-bg: #f8f9fa; /* 极淡灰背景，不刺眼 */
    --jb-card-bg: #ffffff; /* 纯白卡片 */
    --jb-card-border: #e2e8f0; /* 浅灰边框 */
    --jb-text-title: #1e293b; /* 深蓝黑标题 */
    --jb-text-body: #64748b; /* 灰蓝正文 */
    --jb-accent: #3b82f6; /* 科技蓝 */
    --jb-glow: rgba(59, 130, 246, 0.15); /* 浅色辉光 */
    --jb-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.08);
}

html.dark {
    /* --- 暗色模式 (Dark Mode) - JetBrains 风格 --- */
    --jb-bg: #000000; /* 纯黑背景 */
    --jb-card-bg: #111111; /* 深灰磨砂卡片 */
    --jb-card-border: #333333; /* 深色边框 */
    --jb-text-title: #f1f5f9; /* 亮白标题 */
    --jb-text-body: #94a3b8; /* 银灰正文 */
    --jb-accent: #e23bfd; /* 赛博紫 (悬停高亮) */
    --jb-glow: rgba(226, 59, 253, 0.15); /* 深色辉光 */
    --jb-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.6);
}

/* =========================================
   2. 全局背景与光效 (VPHome)
   ========================================= */
.VPHome {
    position: relative;
    background-color: var(--jb-bg) !important;
    z-index: 1;
    transition: background-color 0.3s ease;
    min-height: 100vh;
}

    /* 背景光效 - 自动适配亮暗 */
    .VPHome::before {
        content: '';
        position: fixed;
        inset: 0;
        /* 一个微妙的径向渐变，亮暗模式通用 */
        background: radial-gradient(circle at 15% 50%, var(--jb-glow), transparent 45%), radial-gradient(circle at 85% 30%, var(--jb-glow), transparent 45%);
        z-index: -1;
        pointer-events: none; /* 穿透点击 */
    }

    /* 增加一点点噪点纹理，提升质感 (可选) */
    .VPHome::after {
        content: "";
        position: fixed;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
        pointer-events: none;
        z-index: -1;
    }


/* 3. 定义浮动动画 (上下漂浮) */
@keyframes float-hero {
    0%, 100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-15px);
    }
}

/* =========================================
   【布局保障】确保 Hero 是左右分栏
   ========================================= */
.VPHome .VPHero .container {
    position: relative;
    margin: 0 auto;
    max-width: 1200px !important;
    /* 强制 Flex 布局，避免 Grid 计算错误 */
    display: flex !important;
    flex-direction: column-reverse; /* 手机端：文字在下，图在上 */
    gap: 40px;
    align-items: center;
    padding: 40px 24px;
}

/* 电脑端 (宽屏) 规则 */
@media (min-width: 960px) {
    .VPHome .VPHero .container {
        flex-direction: row !important; /* 电脑端：改为左右排列 */
        justify-content: space-between; /* 两端对齐 */
        padding: 64px;
        gap: 60px;
    }

    /* 文字区域 */
    .VPHome .VPHero .main {
        width: 55% !important; /* 文字占左边 55% */
        text-align: left !important;
        align-items: flex-start !important;
    }

    /* 图片区域 */
    .VPHome .VPHero .image {
        width: 45% !important; /* 图片占右边 45% */
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
    }
}

/* =========================================
   4. Features 区域 (核心布局修复)
   ========================================= */
.VPFeatures {
    position: relative;
    padding: 64px 24px !important;
    z-index: 10;
}

    .VPFeatures .container {
        max-width: 1200px !important;
        margin: 0 auto !important;
        width: 100% !important;
    }

    /* --- 强制 Grid 布局 (解决细长条) --- */
    .VPFeatures .items {
        display: grid !important;
        gap: 24px !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        flex-wrap: wrap !important;
        justify-content: unset !important;
    }

/* --- 响应式断点 (你提供的稳健版) --- */
@media (min-width: 960px) {
    .VPFeatures .items {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

@media (min-width: 640px) and (max-width: 959px) {
    .VPFeatures .items {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

@media (max-width: 639px) {
    .VPFeatures .items {
        grid-template-columns: 1fr !important;
    }
}

/* =========================================
   5. Feature 卡片样式 (自适应)
   ========================================= */
.VPFeatures .item {
    position: relative;
    display: flex !important;
    flex-direction: column !important;
    /* 使用变量，不用死颜色 */
    background-color: var(--jb-card-bg) !important;
    border: 1px solid var(--jb-card-border) !important;
    border-radius: 12px !important;
    padding: 28px !important;
    height: 100% !important;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    cursor: pointer;
    width: auto !important;
    min-width: 0 !important;
}

    /* 强制文字横排 */
    .VPFeatures .item * {
        writing-mode: horizontal-tb !important;
        word-break: break-word !important;
    }

    /* --- Hover 交互 --- */
    .VPFeatures .item:hover {
        transform: translateY(-5px);
        border-color: var(--jb-accent) !important; /* 悬停变色 */
        box-shadow: var(--jb-shadow);
        z-index: 20;
    }

    /* --- 内部元素 --- */
    .VPFeatures .item .icon {
        width: 48px;
        height: 48px;
        margin-bottom: 20px;
        /* 图标背景自动适应 */
        background-color: var(--jb-bg);
        border: 1px solid var(--jb-card-border);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
    }

    .VPFeatures .item .title {
        font-size: 18px !important;
        font-weight: 700 !important;
        color: var(--jb-text-title) !important; /* 标题颜色自适应 */
        margin-bottom: 12px !important;
        line-height: 1.4 !important;
    }

    .VPFeatures .item .details {
        font-size: 15px !important;
        line-height: 1.6 !important;
        color: var(--jb-text-body) !important; /* 正文颜色自适应 */
        margin: 0 !important;
        flex-grow: 1; /* 让内容撑开 */
    }

    /* 链接无样式 */
    .VPFeatures .item a {
        text-decoration: none;
        color: inherit;
    }
