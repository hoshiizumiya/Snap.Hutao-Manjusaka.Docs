<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <!-- Prefer HTML meta refresh for crawlers: default to Chinese index. -->
    <meta http-equiv="refresh" content="0;url=/Snap.Hutao-Manjusaka.Docs/zh/">
    <!-- JS fallback: more accurate redirect preserving original path and honoring browser language -->
    <script>
        (function () {
            try {
                var path = window.location.pathname;
                var base = '/Snap.Hutao-Manjusaka.Docs/';

                // Remove base from path
                if (path.startsWith(base)) {
                    path = path.substring(base.length);
                }

                // If path already starts with a language code, show 404
                var langCodes = ['zh', 'en', 'ru', 'id', 'jp', 'tw'];
                var pathParts = path.split('/');
                if (langCodes.includes(pathParts[0])) {
                    return; // Let the normal 404 content show
                }

                // Detect browser language and redirect preserving path
                var lang = (navigator.language || navigator.userLanguage || 'zh').split('-')[0];
                var supportedLangs = ['zh', 'en', 'ru', 'id', 'jp', 'tw'];
                var targetLang = supportedLangs.includes(lang) ? lang : 'zh';
                var newPath = base + targetLang + '/' + path;

                // Use replace so back button doesn't keep the 404 page in history
                window.location.replace(newPath);
            } catch (e) {
                // If anything goes wrong, fall back to meta refresh that points to /zh/
                return;
            }
        })();
    </script>
</head>

<body>
    <p>Redirecting...</p>
</body>

</html>